<!-- src/app/Management/services/services.component.html -->
<div class="services-container">
  <!-- Cabecera con buscador -->
  <div class="header">
    <h1>Welcome</h1>

    <mat-card class="search-card">
      <div class="search-container">
        <input matInput placeholder="Search for a service…" />
        <button mat-icon-button class="search-button">
          <mat-icon>search</mat-icon>
        </button>
      </div>
    </mat-card>
  </div>

  <!-- Título centrado -->
  <h2 class="title">Services On&nbsp;Going</h2>

  <!-- Lista reactiva -->
  <div class="services-list">
    <mat-card
      class="service-card"
      *ngFor="let service of services$ | async; trackBy: trackById"
    >
      <!-- Imagen principal -->
      <img
        class="placeholder-image"
        src="https://github.com/user-attachments/assets/55d61ddc-fdb7-45a4-bcc2-70b49d96120c"
        alt="Service Placeholder"
      />

      <!-- Encabezado -->
      <div class="service-header">
        <h3>{{ service.nameService }}</h3>

        <!-- Icono de estado -->
        <img
          *ngIf="service.incidents === 'No One'; else warn"
          src="https://github.com/user-attachments/assets/77246d52-ffaa-4ea3-a418-f240c3a6ca7b"
          alt="Safe"
          class="status-icon"
        />
        <ng-template #warn>
          <img
            src="https://github.com/user-attachments/assets/c11b2525-4dca-407f-b60b-f1caeb640971"
            alt="Warning"
            class="status-icon"
          />
        </ng-template>
      </div>

      <!-- Cuerpo -->
      <div class="service-body">
        <p>{{ service.description }}</p>
        <p
          class="incident-info"
          [ngClass]="{
            'safe-text':    service.incidents === 'No One',
            'warning-text': service.incidents === 'Gas Leak',
            'alert-text':   service.incidents === 'High Temperature'
          }"
        >
          Incidents:
          <span>{{ service.incidents }}</span>
        </p>
      </div>
    </mat-card>
  </div>
</div>
